/*Chioma Eme*/
let tests = {
	"Test 1" : [{"category":"Entertainment: Television","type":"multiple","difficulty":"medium","question":"In what year did &quot;The Big Bang Theory&quot; debut on CBS?","correct_answer":"2007","incorrect_answers":["2008","2006","2009"]},{"category":"Geography","type":"multiple","difficulty":"medium","question":"Which city is the capital of Switzerland?","correct_answer":"Bern","incorrect_answers":["Z&uuml;rich","Frankfurt","Wien"]},{"category":"Animals","type":"multiple","difficulty":"hard","question":"How many known living species of hyenas are there?","correct_answer":"4","incorrect_answers":["8","2","6"]},{"category":"History","type":"multiple","difficulty":"hard","question":"The Battle of Hastings was fought in which year?","correct_answer":"1066","incorrect_answers":["911","1204","1420"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"hard","question":"&quot;All the Boys&quot; by Panic! At the Disco was released as a bonus track on what album?","correct_answer":"Too Weird To Live, Too Rare To Die!","incorrect_answers":["A Fever You Can&#039;t Sweat Out","Death Of A Bachelor","Vices &amp; Virtues"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"easy","question":"What was Daft Punk&#039;s first studio album?","correct_answer":"Homework","incorrect_answers":["Discovery","Random Access Memories","Human After All"]},{"category":"Science & Nature","type":"multiple","difficulty":"hard","question":"How much radiation does a banana emit?","correct_answer":"0.1 Microsievert","incorrect_answers":["0.3 Microsievert","0.5 Microsievert","0.7 Microsievert"]},{"category":"Sports","type":"multiple","difficulty":"hard","question":"What is the full name of the footballer &quot;Cristiano Ronaldo&quot;?","correct_answer":"Cristiano Ronaldo dos Santos Aveiro","incorrect_answers":["Cristiano Ronaldo los Santos Diego","Cristiano Armando Diego Ronaldo","Cristiano Luis Armando Ronaldo"]},{"category":"Animals","type":"multiple","difficulty":"medium","question":"The dish Fugu, is made from what family of fish?","correct_answer":"Pufferfish","incorrect_answers":["Bass","Salmon","Mackerel"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"What are the names of the Ice Climbers in the video game Ice Climber?","correct_answer":"Popo and Nana","incorrect_answers":["Popo and Nina","Papi and Nana","Papi and Nina"]}],

	"Test 2" : [{"category":"Vehicles","type":"multiple","difficulty":"hard","question":"What was the name of the first front-wheel-drive car produced by Datsun (now Nissan)?","correct_answer":"Cherry","incorrect_answers":["Sunny","Bluebird","Skyline"]},{"category":"History","type":"multiple","difficulty":"medium","question":"America&#039;s Strategic Defense System during the Cold War was nicknamed after this famous movie.","correct_answer":"Star Wars","incorrect_answers":["Jaws","Blade Runner","Alien"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"In Portal 2, the iconic character GLaDOS is turned into:","correct_answer":"A potato","incorrect_answers":["A tomato","A lemon","An apple"]},{"category":"History","type":"multiple","difficulty":"hard","question":"When did Canada leave the confederation to become their own nation?","correct_answer":"July 1st, 1867","incorrect_answers":["July 1st, 1763","July 1st, 1832","July 1st, 1902"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"easy","question":"The &quot;K&quot; in &quot;K-Pop&quot; stands for which word?","correct_answer":"Korean","incorrect_answers":["Kenyan","Kazakhstan","Kuwaiti"]},{"category":"History","type":"boolean","difficulty":"medium","question":"United States President Ronald Reagan was the first president to appoint a woman to the Supreme Court. ","correct_answer":"True","incorrect_answers":["False"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"easy","question":"What is the name of the 4-armed Chaos Witch from the 2016 video game &quot;Battleborn&quot;?","correct_answer":"Orendi","incorrect_answers":["Orendoo","Oranda","Randy"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"medium","question":"Ellie Goulding&#039;s earliest album was named?","correct_answer":"Lights","incorrect_answers":["Halcyon","Bright Lights","Halcyon Days"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"easy","question":"Which former boy-band star released hit solo single &quot;Angels&quot; in 1997?","correct_answer":"Robbie Williams","incorrect_answers":["Justin Timberlake","Harry Styles","Gary Barlow"]},{"category":"Entertainment: Japanese Anime & Manga","type":"multiple","difficulty":"medium","question":"In &quot;Puella Magi Madoka Magica&quot;, what is the first name of Madoka&#039;s younger brother?","correct_answer":"Tatsuya","incorrect_answers":["Montoya","Tomohisa","Minato"]}],

	"Test 3" : [{"category":"Entertainment: Video Games","type":"multiple","difficulty":"easy","question":"Which game did &quot;Sonic The Hedgehog&quot; make his first appearance in?","correct_answer":"Rad Mobile","incorrect_answers":["Sonic The Hedgehog","Super Mario 64","Mega Man"]},{"category":"Politics","type":"multiple","difficulty":"medium","question":"Who was the only president to not be in office in Washington D.C?","correct_answer":"George Washington","incorrect_answers":["Abraham Lincoln","Richard Nixon","Thomas Jefferson"]},{"category":"Entertainment: Books","type":"multiple","difficulty":"hard","question":"In the Harry Potter universe, who does Draco Malfoy end up marrying?","correct_answer":"Astoria Greengrass","incorrect_answers":["Pansy Parkinson","Millicent Bulstrode","Hermione Granger"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"In what year was the original Sonic the Hedgehog game released?","correct_answer":"1991","incorrect_answers":["1989","1993","1995"]},{"category":"General Knowledge","type":"multiple","difficulty":"medium","question":"What is the name given to Indian food cooked over charcoal in a clay oven?","correct_answer":"Tandoori","incorrect_answers":["Biryani","Pani puri","Tiki masala"]},{"category":"Vehicles","type":"multiple","difficulty":"easy","question":"Automobiles produced by Telsa Motors operate on which form of energy?","correct_answer":"Electricity","incorrect_answers":["Gasoline","Diesel","Nuclear"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"easy","question":"Who was featured in the song &quot;Words&quot; by Feint? ","correct_answer":"Laura Brehm","incorrect_answers":["Anna Yvette ","Danyka Nadeau","Veela"]},{"category":"Entertainment: Film","type":"multiple","difficulty":"medium","question":"Leonardo Di Caprio won his first Best Actor Oscar for his performance in which film?","correct_answer":"The Revenant","incorrect_answers":["The Wolf Of Wall Street","Shutter Island","Inception"]},{"category":"Sports","type":"multiple","difficulty":"medium","question":"What year was hockey legend Wayne Gretzky born?","correct_answer":"1961","incorrect_answers":["1965","1959","1963"]},{"category":"Entertainment: Film","type":"multiple","difficulty":"hard","question":"Which sci-fi cult films plot concerns aliens attempting to prevent humans from creating a doomsday weapon?","correct_answer":"Plan 9 from Outer Space","incorrect_answers":["The Man from Planet X","It Came from Outer Space","The Day The Earth Stood Still"]}],

	"Test 4" : [{"category":"Entertainment: Cartoon & Animations","type":"boolean","difficulty":"easy","question":"In the &quot;Shrek&quot; film franchise, Donkey is played by Eddie Murphy.","correct_answer":"True","incorrect_answers":["False"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"What was the character Kirby originally going to be named?","correct_answer":"Popopo","incorrect_answers":["Dedede","Waddle Dee","Prince Puff"]},{"category":"Geography","type":"multiple","difficulty":"medium","question":"Which country inside the United Kingdom does NOT appear on its flag, the Union Jack?","correct_answer":"Wales","incorrect_answers":["Scotland","Ireland","Isle of Wight"]},{"category":"Mythology","type":"multiple","difficulty":"easy","question":"Who in Greek mythology, who led the Argonauts in search of the Golden Fleece?","correct_answer":"Jason","incorrect_answers":["Castor","Daedalus","Odysseus"]},{"category":"Animals","type":"multiple","difficulty":"medium","question":"Cashmere is the wool from which kind of animal?","correct_answer":"Goat","incorrect_answers":["Sheep","Camel","Llama"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"hard","question":"In Halo 2, how many rounds does the M6C hold in a single magazine?","correct_answer":"12","incorrect_answers":["6","36","18"]},{"category":"Entertainment: Film","type":"multiple","difficulty":"medium","question":"Who played the Cenobite called &quot;Pinhead&quot; in the original Hellraiser films?","correct_answer":"Doug Bradley","incorrect_answers":["Doug Jones","Doug Savant","Doug Benson"]},{"category":"Entertainment: Comics","type":"multiple","difficulty":"medium","question":"In the comics, which Sonic character took command of the Dark Legion after Luger&#039;s assassination?","correct_answer":"Lien-Da","incorrect_answers":["Kragok","Dimitri","Remington"]},{"category":"Entertainment: Japanese Anime & Manga","type":"multiple","difficulty":"medium","question":"In Haikyuu!!, who is not a member of Karasuno VBC?","correct_answer":"Shigeru Yahaba","incorrect_answers":["Tadashi Yamaguchi","Hisashi Kinoshita","Kazuhito Narita"]},{"category":"Entertainment: Musicals & Theatres","type":"multiple","difficulty":"medium","question":"The musical &quot;Dirty Rotten Scoundrels&quot; is set in what country?","correct_answer":"France","incorrect_answers":["USA","Germany","Sweden"]}],

	"Test 5" : [{"category":"Entertainment: Television","type":"multiple","difficulty":"easy","question":"What was the name of the police officer in the cartoon &quot;Top Cat&quot;?","correct_answer":"Dibble","incorrect_answers":["Barbrady","Mahoney","Murphy"]},{"category":"Animals","type":"multiple","difficulty":"easy","question":"The K\u0101k\u0101p\u014d is a large, flightless, nocturnal parrot native to which country?","correct_answer":"New Zealand","incorrect_answers":["South Africa","Australia","Madagascar"]},{"category":"Entertainment: Musicals & Theatres","type":"multiple","difficulty":"medium","question":"In which Shakespeare play does the character Marcellus say, &quot;Something is rotten in the state of Denmark&quot;?","correct_answer":"Hamlet","incorrect_answers":["Macbeth","King Lear","Twelfth Night"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"hard","question":"Which M83 album is the song &quot;Midnight City&quot; featured in?","correct_answer":"Hurry Up, We&#039;re Dreaming","incorrect_answers":["Saturdays = Youth","Before the Dawn Heals Us","Junk"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"easy","question":"Which of these songs by Skrillex features Fatman Scoop as a side artist?","correct_answer":"Recess","incorrect_answers":["All is Fair in Love and Brostep","Rock N Roll (Will Take You to the Mountain)","Scary Monsters and Nice Sprites"]},{"category":"Science: Computers","type":"multiple","difficulty":"medium","question":"Generally, which component of a computer draws the most power?","correct_answer":"Video Card","incorrect_answers":["Hard Drive","Processor","Power Supply"]},{"category":"Vehicles","type":"multiple","difficulty":"medium","question":"Which supercar company is from Sweden?","correct_answer":"Koenigsegg","incorrect_answers":["Bugatti","Lamborghini","McLaren"]},{"category":"Geography","type":"multiple","difficulty":"hard","question":"What is the area of Vatican City?","correct_answer":"0.44km^2","incorrect_answers":["0.10km^2","0.86km^2","12.00km^2"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"Final Fantasy VI was originally released outside Japan under what name?","correct_answer":"Final Fantasy III","incorrect_answers":["Final Fantasy VI","Final Fantasy V","Final Fantasy II"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"easy","question":"Who turns out to be the true victor in the Battle of Armageddon in Mortal Kombat?","correct_answer":"Shao Kahn","incorrect_answers":["Liu Kang","Shang Tsung","Raiden"]}],

	"Test 6" : [{"category":"Animals","type":"multiple","difficulty":"medium","question":"What color\/colour is a polar bear&#039;s skin?","correct_answer":"Black","incorrect_answers":["White","Pink","Green"]},{"category":"Celebrities","type":"multiple","difficulty":"easy","question":"By what name is Carlos Estevez better known? ","correct_answer":"Charlie Sheen","incorrect_answers":["Ricky Martin","Bruno Mars","Joaquin Phoenix"]},{"category":"Entertainment: Books","type":"multiple","difficulty":"medium","question":"What was the pen name of novelist, Mary Ann Evans?","correct_answer":"George Eliot","incorrect_answers":["George Orwell","George Bernard Shaw","George Saunders"]},{"category":"Entertainment: Music","type":"multiple","difficulty":"medium","question":"EDM producer Marshmello performs live wearing clothes and a marshmallow mask of what colour?","correct_answer":"White","incorrect_answers":["Black","Blue","Yellow"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"In Left 4 Dead, what is the name of the Special Infected that is unplayable in Versus mode?","correct_answer":"The Witch","incorrect_answers":["The Tank","The Smoker","The Spitter"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"What is the full name of the protagonist from the SNES game Clock Tower?","correct_answer":"Jennifer Simpson","incorrect_answers":["Jennifer Barrows","Jennifer Cartwright","Jennifer Maxwell"]},{"category":"Science: Computers","type":"multiple","difficulty":"hard","question":"Which of the following is the oldest of these computers by release date?","correct_answer":"TRS-80","incorrect_answers":["Commodore 64","ZX Spectrum","Apple 3"]},{"category":"Entertainment: Video Games","type":"multiple","difficulty":"medium","question":"When was &quot;System Shock&quot; released?","correct_answer":"1994","incorrect_answers":["1995","2000","1998"]},{"category":"Science: Computers","type":"multiple","difficulty":"hard","question":"What vulnerability ranked #1 on the OWASP Top 10 in 2013?","correct_answer":"Injection ","incorrect_answers":["Broken Authentication","Cross-Site Scripting","Insecure Direct Object References"]},{"category":"Mythology","type":"multiple","difficulty":"easy","question":"What mythological creatures have women&#039;s faces and vultures&#039; bodies?","correct_answer":"Harpies","incorrect_answers":["Mermaids","Nymph","Lilith"]}]
}
// object variable for random test when random button is clicked to enable it for load function.
let random_test;
// Add a new element to html document where data for test is added unto.
let trivia = document.createElement('p');
trivia.id = "trivia";
document.body.appendChild(trivia);

function load(){
	// Extension that adds audio into the page that automatically plays a song.
	let audio = document.createElement('audio');
	audio.id = "autoplay"
	/* controls lets you see when the song would end, and lets the user also not make use
	 of the event handler as when song is paused, the ended condition would not be met.
	 For TA use i have left the controls showing so that they could pause or mute the music if annoying.*/
	audio.controls = true;
	audio.autoplay = true;
  let source = document.createElement('source');
	source.id = "music";
  source.src = "music.mp3";
  source.type = "audio/mpeg";
  audio.appendChild(source);
	// Event listener that makes the audio also act as a timer such that, when the song ends,
	// you are alerted that you did not finish the test on time and all your answers will be cleared.
	audio.addEventListener('ended', (event) =>{
		alert("Time's Up. \nYou did not complete the quiz before the song ended :(");
		clearfunction2();});

	// Variable for the different tests to be chosen in html document.
	let selectedtest = document.getElementsByTagName("option");
	let element = document.createElement('br');

	// Set data for quiz to null each time load function is called.
	trivia.innerHTML = null;
	trivia.appendChild(audio);

	// Start of for loop goes through drop down list on html page to match test with data set.
	for (let i = 0; i < selectedtest.length; i++){
		if (selectedtest.item(i).selected == true){
			let amt_of_questions;
			if (i == 6){amt_of_questions = random_test["results"].length;}
			else{amt_of_questions = tests[document.getElementById(i).value].length;}
			// For loop to add a new p element for each question and populate it with the question & possible answers.
			for (let j = 0; j < amt_of_questions; j++){
				let questions = document.createElement("p");
				let showquestion = document.createElement('div');
				if (i == 6){showquestion.innerHTML = random_test["results"][j]["question"];}
				else {showquestion.innerHTML = tests[document.getElementById(i).value][j]["question"];}
				questions.appendChild(showquestion);
				//for loop gets all the incorrect_answers and puts them into new label elements and appends
				//it to parentNode (questions, p element). Adds input type radio as well to match up with
				//position of label.
				if (i == 6){amt_of_ans = random_test["results"][j]["incorrect_answers"].length;}
				else {amt_of_ans = tests[document.getElementById(i).value][j]["incorrect_answers"].length;}
				for (let l = 0; l < amt_of_ans; l++ ){
					let radio = document.createElement("input");
					radio.type = "radio";
					radio.name = j;
					questions.appendChild(radio);
					let options = document.createElement("label");
					let newl = document.createElement('br');
					if (i == 6){options.innerHTML = random_test["results"][j]["incorrect_answers"][l];}
					else {options.innerHTML = tests[document.getElementById(i).value][j]["incorrect_answers"][l];}
					questions.appendChild(options);
					questions.appendChild(newl);
				}
				// Creates an input type radio to match up with label for correct answer and stores the label
				// as the correct answer.
				let radio = document.createElement("input");
				radio.type = "radio";
				radio.name = j;
				let options = document.createElement("label");
				if (i == 6){options.innerHTML = random_test["results"][j]["correct_answer"];}
				else {options.innerHTML = tests[document.getElementById(i).value][j]["correct_answer"];}
				options.id = "correct";
				questions.appendChild(radio);
				questions.appendChild(options);
				trivia.appendChild(questions);

				// Clones a random answer and then replaces the 'correct_answer' with clone and switches their places.
				let randomize = questions.getElementsByTagName('label');
				let f = Math.floor(Math.random()*(randomize.length));
				let clone = randomize.item(f).cloneNode(true);
				old = randomize.item(randomize.length-1);
				questions.replaceChild(clone, old);
				questions.replaceChild(old, randomize.item(f));
			}
		}
	}

	//Add a new "Clear Test" button that implements clearfunction
	let clear = document.createElement('button');
	clear.onclick="click()";
	clear.innerHTML = "Clear Test";
	clear.addEventListener("click", clearfunction);
	trivia.appendChild(clear);

	// Add a new "Check Test" button that implements checkfunction
	let check = document.createElement('button');
	check.onclick="check()";
	check.innerHTML = "Check Test";
	check.addEventListener("click", checkfunction);
	trivia.appendChild(check);

}

function clearfunction() {
	// Gets the section of the page
	let trivia = document.getElementById('trivia');
	let radios = trivia.getElementsByTagName('input');
	let audio = document.getElementById('autoplay');
	let images = document.getElementsByTagName('IMG');
	let questions = document.getElementsByTagName('div');
	//Gets confirmation from user that it is wanted.
	let clear = confirm("Are you sure you want to clear all selected answers?");
	if (clear == true){
		let label = trivia.getElementsByTagName('label');
		for (let j = 0; j < questions.length; j++){
			if (questions.item(j).style.color !=null){
				questions.item(j).style.color = "";}}
		for (let i = 0; i < label.length; i++){
			if (radios.item(i).checked == true){
				radios.item(i).checked = false;
				if (label.item(i).getElementsByTagName('IMG').length > 0){
					label.item(i).removeChild(images.item(0));
				}
			}
		}
		if (document.getElementById('quiz_result')!=null){trivia.removeChild(document.getElementById('quiz_result'));}
		if (document.getElementById('contain')!=null){trivia.removeChild(document.getElementById('contain'));}
	}
}

// clear function for the event handler that clears all selected answers without prompt from user
// as a result of timer(audio) having reached it end.
function clearfunction2() {
	let trivia = document.getElementById('trivia');
	let radios = trivia.getElementsByTagName('input');
	let audio = document.getElementById('autoplay');
	let images = document.getElementsByTagName('IMG');
	let questions = document.getElementsByTagName('div');
	let label = trivia.getElementsByTagName('label');

	for (let j = 0; j < questions.length; j++){
		if (questions.item(j).style.color !=null){
			questions.item(j).style.color = "";}}
	for (let i = 0; i < label.length; i++){
		if (radios.item(i).checked == true){
			radios.item(i).checked = false;
			if (label.item(i).getElementsByTagName('IMG').length > 0){
				label.item(i).removeChild(images.item(0));
			}
		}
	}
	if (document.getElementById('quiz_result')!=null){trivia.removeChild(document.getElementById('quiz_result'));}
	if (document.getElementById('contain')!=null){trivia.removeChild(document.getElementById('contain'));}
}

// Function to check answers on quiz.
function checkfunction(){
	let trivia = document.getElementById('trivia');
	let radios = trivia.getElementsByTagName('input');
	let label = trivia.getElementsByTagName('label');
	let questions = document.getElementsByTagName('div');
	let results = document.createElement("p");
	let count = 0;
	let correct = 0;

	// For loop goes through all the questions in the quiz
	for (let i = 0; i<questions.length; i++){
		let answered = 0;
		// For loop goes through each radio item in specified question and checks if their checked,
		// if they are checked, checks to see if corresponding label is the correct answer.
		for (let j = 0; j <radios.length; j++){
			if ((radios.item(j).name == i) && (radios.item(j).checked == true)){
				answered ++;
	 			if (label.item(j).id == "correct"){correct++;}
			}
		}
		// If else statement keeps track of all the questions not answered.
		if (answered == 0){
			questions.item(i).style.color = "red";
			count++;
		}
		else {questions.item(i).style.color = "";}
	}

	// If there are any questions not answered
	if (count != 0){alert("You must answer all questions before checking the test")}
	else {
		// Checks to see if there are images on the page, checks & x's and then removes them,
		// goes through each label element(which are all answers) and checks if they have an image
		// as a child node, if they do then remove them and removes the quiz results as well.
		let images = document.getElementsByTagName('IMG');
		if (images.length > 0){
			let i = 0;
			for (let s = 0; s < label.length; s++){
				if (label.item(s).getElementsByTagName('IMG').length > 0){
					label.item(s).removeChild(images.item(0));
				}
			}
			trivia.removeChild(document.getElementById('quiz_result'));
			// removes the animated extension and changes music back to original music.
			if (document.getElementById('contain') != null){
				trivia.removeChild(document.getElementById('contain'));
				let music = document.getElementById('autoplay');
			  music2 = music.cloneNode();
			  music2.src = "music.mp3";
			  let replace = document.getElementById('trivia');
			  replace.replaceChild(music2, music);
			}
		}
		// for loop adds the checkmarks and x's for current answers selected.
		for (let i = 0; i < label.length; i++){
			let checkmark = document.createElement('IMG');
			checkmark.style ="width:12px;height:12px;"

			if ((radios.item(i).checked == true) && (label.item(i).id == "correct")){
				checkmark.src="check.png";
				label.item(i).appendChild(checkmark);
			}
			else if ((radios.item(i).checked == true) && (label.item(i).id != "correct")){
				checkmark.src="x.png";
				label.item(i).appendChild(checkmark);
			}
		}
		// Adds the quiz results to the page.
		results.id = "quiz_result";
		results.innerHTML = "You got " + correct +"/" + questions.length + " on this Trivia Quiz.";
		trivia.appendChild(results);
		//Extension that animates a picture of the word congrats and changes the audio
		// to congratulstions song if they got 70% or more on the quiz.
		if ((correct/questions.length) >=(0.7)){animate();}
	}
}

function random(){
  let xhttp = new XMLHttpRequest();
	let url = new URL('https://opentdb.com/api.php?amount=10');
	xhttp.onreadystatechange = function(){
		 if (this.readyState == 4 && this.status == 200) {
			 // javascript object for the random test.
    	random_test = JSON.parse(this.responseText);
			// Sets all the selected options in the dropdown list to false.
			let alltests = document.getElementsByTagName("option");
			for (let i = 0; i < alltests.length; i++){
				alltests.item(i).selected = false;
			}
			// creates a new option for the dropdownlist and hides it so that it can be accessed by load
			// function but not seen by the user.
			rand = document.createElement("option");
			dropdown = document.getElementById('dropdown');
			rand.hidden = true;
			rand.selected = true;
			rand.id = "6";
			rand.value = "random";
			dropdown.appendChild(rand);
			if(random_test["response_code"] == 0){
				load();
				dropdown.removeChild(rand);
			}
			else {
				alert("REQUEST FAILED.");
			}
  }
};
  xhttp.open("GET", url, true);
  xhttp.send();
}
